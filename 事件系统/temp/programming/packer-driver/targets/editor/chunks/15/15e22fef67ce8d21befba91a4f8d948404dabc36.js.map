{"version":3,"sources":["file:///Users/zhangxinxin/NewProject_1/assets/Script/GameRoot.ts"],"names":["_decorator","Color","Component","Label","Node","Sprite","tween","Vec3","ccclass","property","GameRoot","start","lSprite","buttonLeft","getComponent","rSprite","buttonRight","color","to","x","y","z","onUpdate","target","ratio","rLabelNode","union","repeatForever","on","EventType","TOUCH_START","setScale","TOUCH_END","obj","n","wxy","position","setPosition","myAnimation","update","deltaTime","comp","string","String","easing"],"mappings":";;;;;;;;;;;;;;;;AAASA,MAAAA,U,OAAAA,U;AAAYC,MAAAA,K,OAAAA,K;AAAOC,MAAAA,S,OAAAA,S;AAAWC,MAAAA,K,OAAAA,K;AAAOC,MAAAA,I,OAAAA,I;AAAMC,MAAAA,M,OAAAA,M;AAAQC,MAAAA,K,OAAAA,K;AAAWC,MAAAA,I,OAAAA,I;;;;;;;;;OACjE;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBT,U;;0BAGjBU,Q,WADZF,OAAO,CAAC,UAAD,C,UAEHC,QAAQ,CAACL,IAAD,C,UACRK,QAAQ,CAACL,IAAD,C,UAERK,QAAQ,CAACL,IAAD,C,UACRK,QAAQ,CAACN,KAAD,C,2BANb,MACaO,QADb,SAC8BR,SAD9B,CACwC;AAAA;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;AAAA;;AAOpCS,QAAAA,KAAK,GAAG;AACJ;AACA,gBAAMC,OAAO,GAAG,KAAKC,UAAL,CAAgBC,YAAhB,CAA6BT,MAA7B,CAAhB;AACA,gBAAMU,OAAO,GAAG,KAAKC,WAAL,CAAiBF,YAAjB,CAA8BT,MAA9B,CAAhB,CAHI,CAKJ;;AACAO,UAAAA,OAAO,CAACK,KAAR,GAAgB,IAAIhB,KAAJ,CAAU,GAAV,EAAe,CAAf,EAAkB,CAAlB,CAAhB,CANI,CAMkC;;AACtCc,UAAAA,OAAO,CAACE,KAAR,GAAgB,IAAIhB,KAAJ,CAAU,CAAV,EAAa,GAAb,EAAkB,CAAlB,CAAhB,CAPI,CAOkC;;AAGtC,gBAAMgB,KAAK,GAAG,IAAIV,IAAJ,CAAS,GAAT,EAAc,GAAd,EAAmB,GAAnB,CAAd;AACAD,UAAAA,KAAK,CAACW,KAAD,CAAL,CACCC,EADD,CACI,CADJ,EACO;AAACC,YAAAA,CAAC,EAAE,EAAJ;AAAQC,YAAAA,CAAC,EAAE,GAAX;AAAgBC,YAAAA,CAAC,EAAE;AAAnB,WADP,EAC8B;AAC1BC,YAAAA,QAAQ,EAAE,CAACC,MAAD,EAASC,KAAT,KAAmB;AACzB,mBAAKC,UAAL,CAAgBR,KAAhB,GAAwB,IAAIhB,KAAJ,CAAUgB,KAAK,CAACE,CAAhB,EAAmBF,KAAK,CAACG,CAAzB,EAA4BH,KAAK,CAACI,CAAlC,CAAxB;AACH;AAHyB,WAD9B,EAMCH,EAND,CAMI,CANJ,EAMO;AAACC,YAAAA,CAAC,EAAE,GAAJ;AAASC,YAAAA,CAAC,EAAE,CAAZ;AAAeC,YAAAA,CAAC,EAAE;AAAlB,WANP,EAM+B;AAC3BC,YAAAA,QAAQ,EAAE,CAACC,MAAD,EAASC,KAAT,KAAmB;AACzB,mBAAKC,UAAL,CAAgBR,KAAhB,GAAwB,IAAIhB,KAAJ,CAAUgB,KAAK,CAACE,CAAhB,EAAmBF,KAAK,CAACG,CAAzB,EAA4BH,KAAK,CAACI,CAAlC,CAAxB;AACH;AAH0B,WAN/B,EAWCK,KAXD,GAYCC,aAZD,GAaChB,KAbD;AAgBA,eAAKE,UAAL,CAAgBe,EAAhB,CAAmBxB,IAAI,CAACyB,SAAL,CAAeC,WAAlC,EAA+C,MAAM;AACjD,iBAAKjB,UAAL,CAAgBkB,QAAhB,CAAyB,GAAzB,EAA8B,GAA9B,EAAmC,GAAnC;AACH,WAFD;AAKA,eAAKlB,UAAL,CAAgBe,EAAhB,CAAmBxB,IAAI,CAACyB,SAAL,CAAeG,SAAlC,EAA6C,MAAM;AAC/C,iBAAKnB,UAAL,CAAgBkB,QAAhB,CAAyB,CAAzB,EAA4B,CAA5B,EAA+B,CAA/B;AACA,kBAAME,GAAG,GAAG;AACRC,cAAAA,CAAC,EAAE,KAAKC,GAAL,CAASC,QAAT,CAAkBjB;AADb,aAAZ;AAGAb,YAAAA,KAAK,CAAC2B,GAAD,CAAL,CACCf,EADD,CACI,CADJ,EACO;AAACgB,cAAAA,CAAC,EAAE,KAAKC,GAAL,CAASC,QAAT,CAAkBjB,CAAlB,GAAsB;AAA1B,aADP,EACsC;AAClCG,cAAAA,QAAQ,EAAE,CAACC,MAAD,EAASC,KAAT,KAAmB;AACzB,qBAAKW,GAAL,CAASE,WAAT,CAAqBJ,GAAG,CAACC,CAAzB,EAA4B,KAAKC,GAAL,CAASC,QAAT,CAAkBhB,CAA9C;AAAkE;AAFpC,aADtC,EAKCT,KALD;AAMH,WAXD,EAWG,IAXH;AAaA,eAAKK,WAAL,CAAiBY,EAAjB,CAAoBxB,IAAI,CAACyB,SAAL,CAAeC,WAAnC,EAAgD,MAAM;AAClD,iBAAKd,WAAL,CAAiBe,QAAjB,CAA0B,GAA1B,EAA+B,GAA/B,EAAoC,GAApC;AACH,WAFD;AAIA,eAAKf,WAAL,CAAiBY,EAAjB,CAAoBxB,IAAI,CAACyB,SAAL,CAAeG,SAAnC,EAA8C,MAAM;AAChD,iBAAKhB,WAAL,CAAiBe,QAAjB,CAA0B,CAA1B,EAA6B,CAA7B,EAAgC,CAAhC;AACA,kBAAME,GAAG,GAAG;AACRC,cAAAA,CAAC,EAAE,KAAKC,GAAL,CAASC,QAAT,CAAkBjB;AADb,aAAZ;AAGAb,YAAAA,KAAK,CAAC2B,GAAD,CAAL,CACCf,EADD,CACI,CADJ,EACO;AAACgB,cAAAA,CAAC,EAAE,KAAKC,GAAL,CAASC,QAAT,CAAkBjB,CAAlB,GAAsB;AAA1B,aADP,EACsC;AAClCG,cAAAA,QAAQ,EAAE,CAACC,MAAD,EAASC,KAAT,KAAmB;AACzB,qBAAKW,GAAL,CAASE,WAAT,CAAqBJ,GAAG,CAACC,CAAzB,EAA4B,KAAKC,GAAL,CAASC,QAAT,CAAkBhB,CAA9C;AACH;AAHiC,aADtC,EAMCT,KAND;AAOH,WAZD,EAYG,IAZH;AAcA,eAAK2B,WAAL;AAEH;;AAEDC,QAAAA,MAAM,CAACC,SAAD,EAAoB,CAEzB;;AAGDF,QAAAA,WAAW,GAAG;AACV,gBAAML,GAAG,GAAG;AACRC,YAAAA,CAAC,EAAE;AADK,WAAZ;AAGA,gBAAMO,IAAI,GAAG,KAAKhB,UAAL,CAAgBX,YAAhB,CAA6BX,KAA7B,CAAb;AAEAG,UAAAA,KAAK,CAAC2B,GAAD,CAAL,CACKf,EADL,CACQ,GADR,EACa;AAACgB,YAAAA,CAAC,EAAE;AAAJ,WADb,EACuB;AACfZ,YAAAA,QAAQ,EAAE,CAACC,MAAD,EAASC,KAAT,KAAmB;AACzBiB,cAAAA,IAAI,CAACC,MAAL,GAAcC,MAAM,CAACV,GAAG,CAACC,CAAL,CAApB,CADyB,CAEzB;AACA;;AACA,mBAAKC,GAAL,CAASE,WAAT,CAAqB,KAAKF,GAAL,CAASC,QAAT,CAAkBjB,CAAvC,EAA0Cc,GAAG,CAACC,CAA9C,EAJyB,CAIyB;AACrD,aANc;AAOfU,YAAAA,MAAM,EAAE,SAPO,CAOG;;AAPH,WADvB,EAUK1B,EAVL,CAUQ,GAVR,EAUa;AAACgB,YAAAA,CAAC,EAAE;AAAJ,WAVb,EAUqB;AACbZ,YAAAA,QAAQ,EAAE,CAACC,MAAD,EAASC,KAAT,KAAmB;AACzBiB,cAAAA,IAAI,CAACC,MAAL,GAAcC,MAAM,CAACV,GAAG,CAACC,CAAL,CAApB;AACA,mBAAKC,GAAL,CAASE,WAAT,CAAqB,KAAKF,GAAL,CAASC,QAAT,CAAkBjB,CAAvC,EAA0Cc,GAAG,CAACC,CAA9C;AACH,aAJY;AAKbU,YAAAA,MAAM,EAAE,QALK,CAKI;;AALJ,WAVrB,EAiBKlB,KAjBL,GAkBKC,aAlBL,GAmBKhB,KAnBL;AAoBH;;AAzGmC,O;;;;;iBACD,I;;;;;;;iBACC,I;;;;;;;;;;;;iBAGC,I","sourcesContent":["import { _decorator, Color, Component, Label, Node, Sprite, tween, v3, Vec3} from 'cc';\nconst { ccclass, property } = _decorator;\n\n@ccclass('GameRoot')\nexport class GameRoot extends Component {\n    @property(Node) buttonLeft: Node = null;\n    @property(Node) buttonRight: Node = null;\n\n    @property(Node) wxy: Node;\n    @property(Label) rLabelNode: Label = null;\n\n    start() {\n        // 获取 rLabelNode 的 cc.Sprite 组件\n        const lSprite = this.buttonLeft.getComponent(Sprite);\n        const rSprite = this.buttonRight.getComponent(Sprite);\n\n        // 将背景颜色应用到 cc.Sprite 组件的 Material\n        lSprite.color = new Color(255, 0, 0); // 这里设置为红色;\n        rSprite.color = new Color(0, 255, 0); // 这里设置为绿色;\n\n\n        const color = new Vec3(255, 255, 255);\n        tween(color)\n        .to(2, {x: 10, y: 150, z: 0}, {\n            onUpdate: (target, ratio) => {\n                this.rLabelNode.color = new Color(color.x, color.y, color.z);\n            }\n        })\n        .to(2, {x: 120, y: 0, z: 100}, {\n            onUpdate: (target, ratio) => {\n                this.rLabelNode.color = new Color(color.x, color.y, color.z);\n            }\n        })\n        .union()\n        .repeatForever()\n        .start();\n\n\n        this.buttonLeft.on(Node.EventType.TOUCH_START, () => {\n            this.buttonLeft.setScale(1.2, 1.2, 1.2);\n        });\n\n\n        this.buttonLeft.on(Node.EventType.TOUCH_END, () => {\n            this.buttonLeft.setScale(1, 1, 1);\n            const obj = {\n                n: this.wxy.position.x\n            }\n            tween(obj)\n            .to(1, {n: this.wxy.position.x - 50}, {\n                onUpdate: (target, ratio) => {\n                    this.wxy.setPosition(obj.n, this.wxy.position.y);                }\n            })\n            .start();\n        }, this);\n\n        this.buttonRight.on(Node.EventType.TOUCH_START, () => {\n            this.buttonRight.setScale(1.2, 1.2, 1.2);\n        });\n\n        this.buttonRight.on(Node.EventType.TOUCH_END, () => {\n            this.buttonRight.setScale(1, 1, 1);\n            const obj = {\n                n: this.wxy.position.x\n            }\n            tween(obj)\n            .to(1, {n: this.wxy.position.x + 50}, {\n                onUpdate: (target, ratio) => {\n                    this.wxy.setPosition(obj.n, this.wxy.position.y);\n                }\n            })\n            .start();\n        }, this);\n\n        this.myAnimation();\n\n    }\n\n    update(deltaTime: number) {\n        \n    }\n\n\n    myAnimation() {\n        const obj = {\n            n: 0\n        }\n        const comp = this.rLabelNode.getComponent(Label);\n    \n        tween(obj)\n            .to(0.5, {n: 200}, {\n                onUpdate: (target, ratio) => {\n                    comp.string = String(obj.n);\n                    // 在回调函数内部的 this 上下文会发生变化，因此需要采取措施来确保 this 引用的正确性。\n                    // 在你的 onUpdate 回调内部，this 可能不会引用到你期望的对象。\n                    this.wxy.setPosition(this.wxy.position.x, obj.n); // 使用 => 使用箭头函数将 this 绑定到你的函数内\n                },\n                easing: 'quadOut' // 缓动曲线为弹性曲线\n            })\n            .to(0.5, {n: 0}, {\n                onUpdate: (target, ratio) => {\n                    comp.string = String(obj.n);\n                    this.wxy.setPosition(this.wxy.position.x, obj.n); \n                },\n                easing: 'quadIn' // 缓动曲线为弹性曲线\n            })\n            .union()\n            .repeatForever()\n            .start();\n    }\n    \n}\n\n"]}