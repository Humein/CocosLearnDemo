{"version":3,"sources":["file:///Users/zhangxinxin/NewProject_1/assets/Script/GameRoot.ts"],"names":["_decorator","Color","Component","Label","Node","Sprite","tween","ccclass","property","GameRoot","start","sprite","buttonLeft","getComponent","bgColor","material","setProperty","on","EventType","TOUCH_START","setScale","TOUCH_END","myAnimation","buttonRight","update","deltaTime","obj","n","comp","rLabelNode","to","onUpdate","target","ratio","string","String","wxy","setPosition","easing","union","repeat"],"mappings":";;;;;;;;;;;;;;;;AAASA,MAAAA,U,OAAAA,U;AAAYC,MAAAA,K,OAAAA,K;AAAOC,MAAAA,S,OAAAA,S;AAAWC,MAAAA,K,OAAAA,K;AAAOC,MAAAA,I,OAAAA,I;AAAMC,MAAAA,M,OAAAA,M;AAAQC,MAAAA,K,OAAAA,K;;;;;;;;;OACtD;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBR,U;;0BAGjBS,Q,WADZF,OAAO,CAAC,UAAD,C,UAEHC,QAAQ,CAACJ,IAAD,C,UACRI,QAAQ,CAACJ,IAAD,C,UAERI,QAAQ,CAACJ,IAAD,C,UACRI,QAAQ,CAACJ,IAAD,C,2BANb,MACaK,QADb,SAC8BP,SAD9B,CACwC;AAAA;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;AAAA;;AAOpCQ,QAAAA,KAAK,GAAG;AACJ;AACA,gBAAMC,MAAM,GAAG,KAAKC,UAAL,CAAgBC,YAAhB,CAA6BR,MAA7B,CAAf,CAFI,CAIJ;;AACA,gBAAMS,OAAO,GAAG,IAAIb,KAAJ,CAAU,GAAV,EAAe,CAAf,EAAkB,CAAlB,CAAhB,CALI,CAKkC;AAEtC;;AACAU,UAAAA,MAAM,CAACI,QAAP,CAAgBC,WAAhB,CAA4B,OAA5B,EAAqCF,OAArC;AAEA,eAAKF,UAAL,CAAgBK,EAAhB,CAAmBb,IAAI,CAACc,SAAL,CAAeC,WAAlC,EAA+C,MAAM;AACjD,iBAAKP,UAAL,CAAgBQ,QAAhB,CAAyB,GAAzB,EAA8B,GAA9B,EAAmC,GAAnC;AACH,WAFD;AAIA,eAAKR,UAAL,CAAgBK,EAAhB,CAAmBb,IAAI,CAACc,SAAL,CAAeG,SAAlC,EAA6C,MAAM;AAC/C,iBAAKC,WAAL;AACA,iBAAKV,UAAL,CAAgBQ,QAAhB,CAAyB,CAAzB,EAA4B,CAA5B,EAA+B,CAA/B;AACH,WAHD;AAKA,eAAKG,WAAL,CAAiBN,EAAjB,CAAoBb,IAAI,CAACc,SAAL,CAAeC,WAAnC,EAAgD,MAAM;AAClD,iBAAKI,WAAL,CAAiBH,QAAjB,CAA0B,GAA1B,EAA+B,GAA/B,EAAoC,GAApC;AACH,WAFD;AAIA,eAAKG,WAAL,CAAiBN,EAAjB,CAAoBb,IAAI,CAACc,SAAL,CAAeG,SAAnC,EAA8C,MAAM;AAChD,iBAAKC,WAAL;AACA,iBAAKC,WAAL,CAAiBH,QAAjB,CAA0B,CAA1B,EAA6B,CAA7B,EAAgC,CAAhC;AACH,WAHD;AAKH;;AAEDI,QAAAA,MAAM,CAACC,SAAD,EAAoB,CAEzB;;AAGDH,QAAAA,WAAW,GAAG;AACV,gBAAMI,GAAG,GAAG;AACRC,YAAAA,CAAC,EAAE;AADK,WAAZ;AAGA,gBAAMC,IAAI,GAAG,KAAKC,UAAL,CAAgBhB,YAAhB,CAA6BV,KAA7B,CAAb;AAEAG,UAAAA,KAAK,CAACoB,GAAD,CAAL,CACKI,EADL,CACQ,GADR,EACa;AAACH,YAAAA,CAAC,EAAE;AAAJ,WADb,EACuB;AACfI,YAAAA,QAAQ,EAAE,CAACC,MAAD,EAASC,KAAT,KAAmB;AACzBL,cAAAA,IAAI,CAACM,MAAL,GAAcC,MAAM,CAACT,GAAG,CAACC,CAAL,CAApB,CADyB,CAEzB;AACA;;AACA,mBAAKS,GAAL,CAASC,WAAT,CAAqB,CAArB,EAAwBX,GAAG,CAACC,CAA5B,EAJyB,CAIO;AACnC,aANc;AAOfW,YAAAA,MAAM,EAAE,SAPO,CAOG;;AAPH,WADvB,EAUKR,EAVL,CAUQ,GAVR,EAUa;AAACH,YAAAA,CAAC,EAAE;AAAJ,WAVb,EAUqB;AACbI,YAAAA,QAAQ,EAAE,CAACC,MAAD,EAASC,KAAT,KAAmB;AACzBL,cAAAA,IAAI,CAACM,MAAL,GAAcC,MAAM,CAACT,GAAG,CAACC,CAAL,CAApB;AACA,mBAAKS,GAAL,CAASC,WAAT,CAAqB,CAArB,EAAwBX,GAAG,CAACC,CAA5B;AACH,aAJY;AAKbW,YAAAA,MAAM,EAAE,QALK,CAKI;;AALJ,WAVrB,EAiBKC,KAjBL,GAkBKC,MAlBL,CAkBY,CAlBZ,EAmBK9B,KAnBL;AAoBH;;AApEmC,O;;;;;iBACD,I;;;;;;;iBACC,I;;;;;;;;;;;;iBAGD,I","sourcesContent":["import { _decorator, Color, Component, Label, Node, Sprite, tween, v3} from 'cc';\nconst { ccclass, property } = _decorator;\n\n@ccclass('GameRoot')\nexport class GameRoot extends Component {\n    @property(Node) buttonLeft: Node = null;\n    @property(Node) buttonRight: Node = null;\n\n    @property(Node) wxy: Node;\n    @property(Node) rLabelNode: Node = null;\n\n    start() {\n        // 获取 rLabelNode 的 cc.Sprite 组件\n        const sprite = this.buttonLeft.getComponent(Sprite);\n\n        // 创建一个新的 cc.Color 对象，设置为你想要的背景颜色\n        const bgColor = new Color(255, 0, 0); // 这里设置为红色\n\n        // 将背景颜色应用到 cc.Sprite 组件的 Material\n        sprite.material.setProperty('color', bgColor);\n\n        this.buttonLeft.on(Node.EventType.TOUCH_START, () => {\n            this.buttonLeft.setScale(1.2, 1.2, 1.2);\n        });\n\n        this.buttonLeft.on(Node.EventType.TOUCH_END, () => {\n            this.myAnimation();\n            this.buttonLeft.setScale(1, 1, 1);\n        });\n\n        this.buttonRight.on(Node.EventType.TOUCH_START, () => {\n            this.buttonRight.setScale(1.2, 1.2, 1.2);\n        });\n\n        this.buttonRight.on(Node.EventType.TOUCH_END, () => {\n            this.myAnimation();\n            this.buttonRight.setScale(1, 1, 1);\n        });\n\n    }\n\n    update(deltaTime: number) {\n        \n    }\n\n\n    myAnimation() {\n        const obj = {\n            n: 0\n        }\n        const comp = this.rLabelNode.getComponent(Label);\n    \n        tween(obj)\n            .to(0.5, {n: 200}, {\n                onUpdate: (target, ratio) => {\n                    comp.string = String(obj.n);\n                    // 在回调函数内部的 this 上下文会发生变化，因此需要采取措施来确保 this 引用的正确性。\n                    // 在你的 onUpdate 回调内部，this 可能不会引用到你期望的对象。\n                    this.wxy.setPosition(0, obj.n); // 使用 => 使用箭头函数将 this 绑定到你的函数内\n                },\n                easing: 'quadOut' // 缓动曲线为弹性曲线\n            })\n            .to(0.5, {n: 0}, {\n                onUpdate: (target, ratio) => {\n                    comp.string = String(obj.n);\n                    this.wxy.setPosition(0, obj.n); \n                },\n                easing: 'quadIn' // 缓动曲线为弹性曲线\n            })\n            .union()\n            .repeat(3)\n            .start();\n    }\n    \n}\n\n"]}